const _0x5bc35d=_0x15a4;function _0x3a93(){const _0x4a601b=['33588sqgmcl','spotify','cheerio','type','get','1325435unsLHi','1900692gPXMmL','content','2230412eutnhB','body','track','704UOkNgb','release_date','post','items','62DmDzyS','9116790DoneVr','ff545805ad694815a5651f5c31f02cd4','Mozilla/5.0\x20(Linux;\x20Android\x206.0;\x20Nexus\x205\x20Build/MRA58N)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/130.0.0.0\x20Mobile\x20Safari/537.36','name','https://spotmate.online','exports','join','attr','spotify-web-api-node','album','7FGKhjh','duration_ms','tracks','http://localhost:3000/callback','f6a31d0041f5499487ddb3d20780567f','https://spotmate.online/convert','map','status','error','application/json','load','4398882xBusmC','set-cookie','url','form-data','17761FAJKGw','meta[name=\x22csrf-token\x22]','create','data'];_0x3a93=function(){return _0x4a601b;};return _0x3a93();}(function(_0x1eb8ae,_0x3ee8d8){const _0x9acb22=_0x15a4,_0x55c148=_0x1eb8ae();while(!![]){try{const _0x1becc1=-parseInt(_0x9acb22(0xad))/0x1*(-parseInt(_0x9acb22(0xc0))/0x2)+parseInt(_0x9acb22(0xb7))/0x3+-parseInt(_0x9acb22(0xb9))/0x4+parseInt(_0x9acb22(0xb6))/0x5+-parseInt(_0x9acb22(0xd6))/0x6*(-parseInt(_0x9acb22(0xcb))/0x7)+-parseInt(_0x9acb22(0xbc))/0x8*(parseInt(_0x9acb22(0xb1))/0x9)+-parseInt(_0x9acb22(0xc1))/0xa;if(_0x1becc1===_0x3ee8d8)break;else _0x55c148['push'](_0x55c148['shift']());}catch(_0x4f17aa){_0x55c148['push'](_0x55c148['shift']());}}}(_0x3a93,0x5deb3));const SpotifyWebApi=require(_0x5bc35d(0xc9)),axios=require('axios'),cheerio=require(_0x5bc35d(0xb3)),FormData=require(_0x5bc35d(0xac)),clientId=_0x5bc35d(0xcf),clientSecret=_0x5bc35d(0xc2),instance=axios[_0x5bc35d(0xaf)]({'baseURL':'https://spotmate.online','withCredentials':!![]});async function scrapeCsrfToken(){const _0x410074=_0x5bc35d,_0x47142a=_0x410074(0xc5);try{const {data:_0x57f7f0,headers:_0x1506c1}=await axios[_0x410074(0xb5)](_0x47142a),_0x419130=cheerio[_0x410074(0xd5)](_0x57f7f0),_0x1fc6cc=_0x419130(_0x410074(0xae))[_0x410074(0xc8)](_0x410074(0xb8));return{'csrfToken':_0x1fc6cc,'cookies':_0x1506c1[_0x410074(0xaa)]};}catch(_0x4ac44b){return{'csrfToken':null,'cookies':[]};}}const spotifyApi=new SpotifyWebApi({'clientId':clientId,'clientSecret':clientSecret,'redirectUri':_0x5bc35d(0xce)});async function authenticateSpotify(){const _0x23cc85=_0x5bc35d;try{const _0x3152ff=await spotifyApi['clientCredentialsGrant']();spotifyApi['setAccessToken'](_0x3152ff[_0x23cc85(0xba)]['access_token']);}catch(_0x43a437){}}async function spotify(_0x1ed7f2,_0x534af1=_0x5bc35d(0xbb)){const _0x540c96=_0x5bc35d;try{const _0x419843=await spotifyApi['search'](_0x1ed7f2,[_0x534af1]),_0x437649=_0x419843[_0x540c96(0xba)][_0x540c96(0xcd)][_0x540c96(0xbf)][_0x540c96(0xd1)](_0x38545e=>({'name':_0x38545e['name'],'url':_0x38545e['external_urls'][_0x540c96(0xb2)]}));return _0x437649;}catch(_0x251e21){return null;}}const spotifyToMp3=async _0x194ee3=>{const _0x441af8=_0x5bc35d;try{const {csrfToken:_0x2ad391,cookies:_0x377e22}=await scrapeCsrfToken(),_0x49a8e7={'urls':_0x194ee3},_0x50a6f6={'Content-Type':'application/json','User-Agent':_0x441af8(0xc3),'Referer':'https://spotmate.online/','X-CSRF-TOKEN':_0x2ad391,'Cookie':_0x377e22[_0x441af8(0xc7)](';\x20')},_0x52d9a2=await axios[_0x441af8(0xbe)](_0x441af8(0xd0),_0x49a8e7,{'headers':_0x50a6f6});return _0x52d9a2[_0x441af8(0xd2)]===0xc8&&_0x52d9a2['data']&&_0x52d9a2['data'][_0x441af8(0xd3)]===![]?_0x52d9a2[_0x441af8(0xb0)]:null;}catch(_0x1a18b9){return console['log'](_0x1a18b9),null;}};function _0x15a4(_0x3d8f7c,_0x277c39){const _0x3a93c6=_0x3a93();return _0x15a4=function(_0x15a427,_0x12b1b1){_0x15a427=_0x15a427-0xaa;let _0x1f5f8c=_0x3a93c6[_0x15a427];return _0x1f5f8c;},_0x15a4(_0x3d8f7c,_0x277c39);}async function dlspotify(_0x4a8e7e){const _0x55c3a0=_0x5bc35d;try{const {csrfToken:_0x262f04,cookies:_0xd2737f}=await scrapeCsrfToken();if(!_0x262f04)return[];const _0x2eaac9=await instance[_0x55c3a0(0xbe)]('/getTrackData',{'spotify_url':_0x4a8e7e},{'headers':{'Content-Type':_0x55c3a0(0xd4),'X-CSRF-TOKEN':_0x262f04,'Cookie':_0xd2737f['join'](';\x20')}}),_0x4eb116=await spotifyToMp3(_0x4a8e7e);if(!_0x4eb116)return[];const _0x2a7720={'img':_0x2eaac9[_0x55c3a0(0xb0)][_0x55c3a0(0xca)]['images'][0x0][_0x55c3a0(0xab)],'name':_0x2eaac9[_0x55c3a0(0xb0)][_0x55c3a0(0xc4)],'duration':_0x2eaac9[_0x55c3a0(0xb0)][_0x55c3a0(0xcc)],'type':_0x2eaac9['data'][_0x55c3a0(0xb4)],'id':_0x2eaac9[_0x55c3a0(0xb0)]['id'],'date':_0x2eaac9[_0x55c3a0(0xb0)]['album'][_0x55c3a0(0xbd)],'url':_0x4eb116['url']};return _0x2a7720;}catch(_0x250165){return[];}}module[_0x5bc35d(0xc6)]={'authenticateSpotify':authenticateSpotify,'spotify':spotify,'dlspotify':dlspotify};