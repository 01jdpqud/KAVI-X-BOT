const _0x4e2e66=_0x1eef;(function(_0xa0e628,_0x2a99d1){const _0x337f11=_0x1eef,_0x1e3372=_0xa0e628();while(!![]){try{const _0x46ad4a=-parseInt(_0x337f11(0xed))/0x1*(parseInt(_0x337f11(0x10a))/0x2)+-parseInt(_0x337f11(0xfc))/0x3*(parseInt(_0x337f11(0xe7))/0x4)+parseInt(_0x337f11(0x10c))/0x5+-parseInt(_0x337f11(0xe6))/0x6+parseInt(_0x337f11(0x116))/0x7+-parseInt(_0x337f11(0xff))/0x8+parseInt(_0x337f11(0x119))/0x9;if(_0x46ad4a===_0x2a99d1)break;else _0x1e3372['push'](_0x1e3372['shift']());}catch(_0x92b285){_0x1e3372['push'](_0x1e3372['shift']());}}}(_0x1124,0x47183));function _0x1eef(_0x44d3ce,_0x2d236c){const _0x1124bb=_0x1124();return _0x1eef=function(_0x1eef20,_0x164335){_0x1eef20=_0x1eef20-0xe4;let _0x1f8e36=_0x1124bb[_0x1eef20];return _0x1f8e36;},_0x1eef(_0x44d3ce,_0x2d236c);}const fs=require('fs'),{tmpdir}=require('os'),Crypto=require('crypto'),ff=require(_0x4e2e66(0xf3)),ffmpegPath=require(_0x4e2e66(0x108))['path'],webp=require(_0x4e2e66(0x111)),path=require('path');function _0x1124(){const _0x5dae92=['00:00:05','writeFileSync','randomBytes','toString','data','Image','save','456897mOGkIW','.mp4','-ss','3277992lzmvta','https://github.com/CyberKavi','packname','exif','writeUIntLE','-loop','-an','-preset','.webp','@ffmpeg-installer/ffmpeg','test','663836StwyoI','join','298125oCRvyG','mimetype','webp','load','utf-8','node-webpmux','.jpg','stringify','end','-vf','572152IDhIFF','categories','00:00:00','12368736ZmaaKO','readFileSync','concat','toFormat','unlinkSync','1982976DcEHKg','4LAaglw','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','author','from','-vcodec','length','1uWvuZy','addOutputOptions','error','readUIntLE','libwebp','default','fluent-ffmpeg','setFfmpegPath'];_0x1124=function(){return _0x5dae92;};return _0x1124();}ff[_0x4e2e66(0xf4)](ffmpegPath);async function imageToWebp(_0x43c12c){const _0x311446=_0x4e2e66,_0x558273=path['join'](tmpdir(),Crypto[_0x311446(0xf7)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x311446(0x107)),_0x2a97ba=path['join'](tmpdir(),Crypto[_0x311446(0xf7)](0x6)[_0x311446(0xf0)](0x0,0x6)['toString'](0x24)+_0x311446(0x112));fs[_0x311446(0xf6)](_0x2a97ba,_0x43c12c),await new Promise((_0x2405d6,_0x212e67)=>{const _0x1fb9c4=_0x311446;ff(_0x2a97ba)['on'](_0x1fb9c4(0xef),_0x212e67)['on'](_0x1fb9c4(0x114),()=>_0x2405d6(!![]))[_0x1fb9c4(0xee)]([_0x1fb9c4(0xeb),_0x1fb9c4(0xf1),_0x1fb9c4(0x115),_0x1fb9c4(0xe8)])[_0x1fb9c4(0xe4)]('webp')[_0x1fb9c4(0xfb)](_0x558273);});const _0x3b1635=fs['readFileSync'](_0x558273);return fs[_0x311446(0xe5)](_0x558273),fs[_0x311446(0xe5)](_0x2a97ba),_0x3b1635;}async function videoToWebp(_0x1fc618){const _0x34a572=_0x4e2e66,_0x52032e=path[_0x34a572(0x10b)](tmpdir(),Crypto[_0x34a572(0xf7)](0x6)[_0x34a572(0xf0)](0x0,0x6)[_0x34a572(0xf8)](0x24)+_0x34a572(0x107)),_0x141ce6=path[_0x34a572(0x10b)](tmpdir(),Crypto[_0x34a572(0xf7)](0x6)['readUIntLE'](0x0,0x6)[_0x34a572(0xf8)](0x24)+_0x34a572(0xfd));fs[_0x34a572(0xf6)](_0x141ce6,_0x1fc618),await new Promise((_0x41da81,_0x24337c)=>{const _0x2a09e8=_0x34a572;ff(_0x141ce6)['on']('error',_0x24337c)['on'](_0x2a09e8(0x114),()=>_0x41da81(!![]))[_0x2a09e8(0xee)]([_0x2a09e8(0xeb),'libwebp',_0x2a09e8(0x115),_0x2a09e8(0xe8),_0x2a09e8(0x104),'0',_0x2a09e8(0xfe),_0x2a09e8(0x118),'-t',_0x2a09e8(0xf5),_0x2a09e8(0x106),_0x2a09e8(0xf2),_0x2a09e8(0x105),'-vsync','0'])[_0x2a09e8(0xe4)](_0x2a09e8(0x10e))[_0x2a09e8(0xfb)](_0x52032e);});const _0x43a66a=fs[_0x34a572(0x11a)](_0x52032e);return fs['unlinkSync'](_0x52032e),fs[_0x34a572(0xe5)](_0x141ce6),_0x43a66a;}async function writeExifImg(_0x1d6873,_0x4c4cbc){const _0x3b8e39=_0x4e2e66;let _0x4bdb9e=await imageToWebp(_0x1d6873);const _0x3ab6db=path[_0x3b8e39(0x10b)](tmpdir(),Crypto[_0x3b8e39(0xf7)](0x6)['readUIntLE'](0x0,0x6)[_0x3b8e39(0xf8)](0x24)+_0x3b8e39(0x107)),_0x2070fb=path[_0x3b8e39(0x10b)](tmpdir(),Crypto['randomBytes'](0x6)[_0x3b8e39(0xf0)](0x0,0x6)['toString'](0x24)+_0x3b8e39(0x107));fs[_0x3b8e39(0xf6)](_0x3ab6db,_0x4bdb9e);if(_0x4c4cbc[_0x3b8e39(0x101)]||_0x4c4cbc[_0x3b8e39(0xe9)]){const _0xcf2dd8=new webp[(_0x3b8e39(0xfa))](),_0x40dda2={'sticker-pack-id':'https://github.com/DikaArdnt/Hisoka-Morou','sticker-pack-name':_0x4c4cbc['packname'],'sticker-pack-publisher':_0x4c4cbc['author'],'emojis':_0x4c4cbc['categories']?_0x4c4cbc['categories']:['']},_0x12de1a=Buffer[_0x3b8e39(0xea)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x36a0fc=Buffer[_0x3b8e39(0xea)](JSON['stringify'](_0x40dda2),_0x3b8e39(0x110)),_0xf95587=Buffer['concat']([_0x12de1a,_0x36a0fc]);return _0xf95587[_0x3b8e39(0x103)](_0x36a0fc[_0x3b8e39(0xec)],0xe,0x4),await _0xcf2dd8[_0x3b8e39(0x10f)](_0x3ab6db),fs['unlinkSync'](_0x3ab6db),_0xcf2dd8[_0x3b8e39(0x102)]=_0xf95587,await _0xcf2dd8[_0x3b8e39(0xfb)](_0x2070fb),_0x2070fb;}}async function writeExifVid(_0x8e7e8e,_0x436c1a){const _0x53ab8f=_0x4e2e66;let _0x35eaa1=await videoToWebp(_0x8e7e8e);const _0x53f7bd=path[_0x53ab8f(0x10b)](tmpdir(),Crypto[_0x53ab8f(0xf7)](0x6)['readUIntLE'](0x0,0x6)[_0x53ab8f(0xf8)](0x24)+_0x53ab8f(0x107)),_0x19f906=path[_0x53ab8f(0x10b)](tmpdir(),Crypto[_0x53ab8f(0xf7)](0x6)[_0x53ab8f(0xf0)](0x0,0x6)[_0x53ab8f(0xf8)](0x24)+'.webp');fs[_0x53ab8f(0xf6)](_0x53f7bd,_0x35eaa1);if(_0x436c1a[_0x53ab8f(0x101)]||_0x436c1a['author']){const _0x53d551=new webp[(_0x53ab8f(0xfa))](),_0x374412={'sticker-pack-id':_0x53ab8f(0x100),'sticker-pack-name':_0x436c1a[_0x53ab8f(0x101)],'sticker-pack-publisher':_0x436c1a[_0x53ab8f(0xe9)],'emojis':_0x436c1a[_0x53ab8f(0x117)]?_0x436c1a['categories']:['']},_0x5cb6c3=Buffer[_0x53ab8f(0xea)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x4b2a84=Buffer[_0x53ab8f(0xea)](JSON[_0x53ab8f(0x113)](_0x374412),_0x53ab8f(0x110)),_0x123fb8=Buffer[_0x53ab8f(0x11b)]([_0x5cb6c3,_0x4b2a84]);return _0x123fb8['writeUIntLE'](_0x4b2a84[_0x53ab8f(0xec)],0xe,0x4),await _0x53d551[_0x53ab8f(0x10f)](_0x53f7bd),fs['unlinkSync'](_0x53f7bd),_0x53d551['exif']=_0x123fb8,await _0x53d551[_0x53ab8f(0xfb)](_0x19f906),_0x19f906;}}async function writeExif(_0x48aacd,_0x4393c6){const _0x128f57=_0x4e2e66;let _0xd2d321=/webp/[_0x128f57(0x109)](_0x48aacd[_0x128f57(0x10d)])?_0x48aacd[_0x128f57(0xf9)]:/image/[_0x128f57(0x109)](_0x48aacd[_0x128f57(0x10d)])?await imageToWebp(_0x48aacd[_0x128f57(0xf9)]):/video/['test'](_0x48aacd[_0x128f57(0x10d)])?await videoToWebp(_0x48aacd[_0x128f57(0xf9)]):'';const _0x11328b=path[_0x128f57(0x10b)](tmpdir(),Crypto[_0x128f57(0xf7)](0x6)[_0x128f57(0xf0)](0x0,0x6)[_0x128f57(0xf8)](0x24)+_0x128f57(0x107)),_0x19e93d=path['join'](tmpdir(),Crypto[_0x128f57(0xf7)](0x6)[_0x128f57(0xf0)](0x0,0x6)['toString'](0x24)+_0x128f57(0x107));fs[_0x128f57(0xf6)](_0x11328b,_0xd2d321);if(_0x4393c6[_0x128f57(0x101)]||_0x4393c6[_0x128f57(0xe9)]){const _0x3c0af1=new webp[(_0x128f57(0xfa))](),_0x3745d3={'sticker-pack-id':_0x128f57(0x100),'sticker-pack-name':_0x4393c6['packname'],'sticker-pack-publisher':_0x4393c6[_0x128f57(0xe9)],'emojis':_0x4393c6[_0x128f57(0x117)]?_0x4393c6[_0x128f57(0x117)]:['']},_0x33eb87=Buffer[_0x128f57(0xea)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x47a743=Buffer['from'](JSON['stringify'](_0x3745d3),_0x128f57(0x110)),_0x223e3b=Buffer[_0x128f57(0x11b)]([_0x33eb87,_0x47a743]);return _0x223e3b['writeUIntLE'](_0x47a743['length'],0xe,0x4),await _0x3c0af1[_0x128f57(0x10f)](_0x11328b),fs['unlinkSync'](_0x11328b),_0x3c0af1[_0x128f57(0x102)]=_0x223e3b,await _0x3c0af1[_0x128f57(0xfb)](_0x19e93d),_0x19e93d;}}module['exports']={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};