const _0x578554=_0x5027;function _0x5027(_0x1ca283,_0x4a89be){const _0x31f931=_0x31f9();return _0x5027=function(_0x502712,_0x55b65){_0x502712=_0x502712-0xa7;let _0x4b1a42=_0x31f931[_0x502712];return _0x4b1a42;},_0x5027(_0x1ca283,_0x4a89be);}(function(_0x5432e1,_0x5055b9){const _0x3d8548=_0x5027,_0x4affe6=_0x5432e1();while(!![]){try{const _0x35867f=-parseInt(_0x3d8548(0x116))/0x1*(-parseInt(_0x3d8548(0xe5))/0x2)+parseInt(_0x3d8548(0x101))/0x3+-parseInt(_0x3d8548(0xf2))/0x4*(-parseInt(_0x3d8548(0xc3))/0x5)+parseInt(_0x3d8548(0xfe))/0x6+-parseInt(_0x3d8548(0xd0))/0x7+-parseInt(_0x3d8548(0xdf))/0x8*(parseInt(_0x3d8548(0xb6))/0x9)+-parseInt(_0x3d8548(0x10f))/0xa;if(_0x35867f===_0x5055b9)break;else _0x4affe6['push'](_0x4affe6['shift']());}catch(_0x29e4e4){_0x4affe6['push'](_0x4affe6['shift']());}}}(_0x31f9,0x33b20));const {connectDB}=require(_0x578554(0xda)),{randomBytes}=require(_0x578554(0xe7)),authModel=require(_0x578554(0xc1)),badwordModel=require('./models/badwordModel.js'),chatModel=require(_0x578554(0xf0)),conversationModel=require(_0x578554(0xdd)),settingsModel=require(_0x578554(0xec)),stickerModel=require('./models/stickerModel.js'),userModel=require(_0x578554(0x10b)),warningModel=require(_0x578554(0x11c)),groupModel=require(_0x578554(0xc7));require(_0x578554(0xbb));let settingsCache=null;const retryOperation=async(_0x13c05f,_0x49d184=0x3,_0x98607=0x3e8)=>{for(let _0x456e39=0x0;_0x456e39<_0x49d184;_0x456e39++){try{return await _0x13c05f();}catch(_0x5c5ce8){if(_0x456e39<_0x49d184-0x1)await new Promise(_0x49f7f6=>setTimeout(_0x49f7f6,_0x98607));else throw _0x5c5ce8;}}},addOwnerNumber=async _0x56bf7d=>{const _0x5383a4=_0x578554;try{let _0x4dad8e=await authModel[_0x5383a4(0xf7)]({});return _0x4dad8e?!_0x4dad8e[_0x5383a4(0xc2)][_0x5383a4(0xd5)](_0x56bf7d)?(_0x4dad8e[_0x5383a4(0xc2)][_0x5383a4(0x114)](_0x56bf7d),await _0x4dad8e[_0x5383a4(0x100)](),_0x5383a4(0x10c)):_0x5383a4(0x112):(_0x4dad8e=new authModel({'ownerNumbers':[_0x56bf7d]}),await _0x4dad8e['save'](),_0x5383a4(0x10c));}catch(_0x2f1a14){if(_0x2f1a14[_0x5383a4(0x115)]===_0x5383a4(0xde))return _0x5383a4(0xde);else return _0x2f1a14[_0x5383a4(0x115)]===_0x5383a4(0x11a)?_0x5383a4(0x11a):(console[_0x5383a4(0x113)](_0x5383a4(0xc9),_0x2f1a14),'An\x20unexpected\x20error\x20occurred\x20while\x20adding\x20number\x20'+_0x56bf7d+'.');}},checkOwnerNumber=async _0x241958=>{const _0x5bfa5e=_0x578554;try{const _0x466bb6=await authModel[_0x5bfa5e(0xf7)]({'ownerNumbers':_0x241958});return!!_0x466bb6;}catch(_0x24decb){throw _0x24decb;}},getAuthNum=async()=>{const _0x27ec12=_0x578554;try{const _0x9f3e76=await authModel[_0x27ec12(0xf7)]({});return _0x9f3e76?_0x9f3e76[_0x27ec12(0xc2)]:[];}catch(_0x13c8c3){throw _0x13c8c3;}},deleteOwnerNumber=async _0x5252be=>{const _0x465d71=_0x578554;try{if(_0x5252be===ownernumber)return _0x465d71(0xca);const _0x1269df=await authModel[_0x465d71(0xf7)]({});return _0x1269df&&_0x1269df[_0x465d71(0xc2)]['includes'](_0x5252be)?(_0x1269df[_0x465d71(0xc2)]=_0x1269df[_0x465d71(0xc2)]['filter'](_0x5ad3be=>_0x5ad3be!==_0x5252be),await _0x1269df[_0x465d71(0x100)](),_0x465d71(0x11d)):_0x465d71(0xaa);}catch(_0x551ddb){return console[_0x465d71(0x113)](_0x465d71(0xd6),_0x551ddb),_0x465d71(0xbd);}},checkBadWordExists=async _0x2bf3c3=>{const _0x2df0d2=_0x578554;try{const _0x414034=await badwordModel[_0x2df0d2(0xf7)]({'word':_0x2bf3c3});return _0x414034!==null;}catch(_0x57168c){return console[_0x2df0d2(0x113)](_0x2df0d2(0xf1),_0x57168c),![];}},addBadWord=async _0x48a8e4=>{const _0x32314b=_0x578554;try{const _0x48bd18=await badwordModel[_0x32314b(0xf7)]({'word':_0x48a8e4});if(_0x48bd18)return _0x32314b(0xef);const _0x9abd=new badwordModel({'word':_0x48a8e4});return await _0x9abd[_0x32314b(0x100)](),!![];}catch(_0x2150e6){return![];}},deleteBadWord=async _0x5b9455=>{const _0x372845=_0x578554;try{const _0x47e712=await checkBadWordExists(_0x5b9455);if(!_0x47e712)return _0x372845(0xae);const _0x5c476d=await badwordModel['deleteOne']({'word':_0x5b9455});if(_0x5c476d['deletedCount']===0x0)return _0x372845(0xc6);return _0x372845(0xa9);}catch(_0x52b70a){return _0x372845(0xc6);}},listBadWords=async()=>{const _0x459563=_0x578554;try{const _0x4eccd7=await badwordModel[_0x459563(0xbf)]({});return _0x4eccd7[_0x459563(0xf9)](_0x215dc2=>_0x215dc2[_0x459563(0xd2)]);}catch(_0x508465){return _0x459563(0xf6);}},banChat=async _0x1cb25c=>{try{const _0x22bdf8=await chatModel['findOneAndUpdate']({'chatId':_0x1cb25c},{'isBanned':!![]},{'new':!![],'upsert':!![]});return _0x22bdf8;}catch(_0x48e22a){throw _0x48e22a;}},unbanChat=async _0x296d09=>{try{const _0x329d8f=await chatModel['findOneAndUpdate']({'chatId':_0x296d09},{'isBanned':![]},{'new':!![]});return _0x329d8f;}catch(_0x117712){throw _0x117712;}},checkChatExists=async _0x37f091=>{const _0x3ce2f9=_0x578554;try{const _0x24274a=await chatModel[_0x3ce2f9(0xf7)]({'chatId':_0x37f091});return _0x24274a?!![]:![];}catch(_0x2a3e21){throw _0x2a3e21;}},checkBanStatus=async _0x1dca11=>{const _0x189551=_0x578554;try{const _0x4123bd=await chatModel[_0x189551(0xf7)]({'chatId':_0x1dca11});if(_0x4123bd&&_0x4123bd[_0x189551(0xb5)])return!![];return![];}catch(_0x414727){throw _0x414727;}},updateChatStatus=async(_0x36459d,_0x229cdb)=>{const _0x4cab72=_0x578554;try{let _0x491f97=await chatModel[_0x4cab72(0xf7)]({'chatId':_0x36459d});return _0x491f97?(_0x491f97[_0x4cab72(0xb5)]=_0x229cdb,await _0x491f97[_0x4cab72(0x100)]()):(_0x491f97=new chatModel({'chatId':_0x36459d,'isBanned':_0x229cdb}),await _0x491f97['save']()),_0x491f97;}catch(_0x44748b){throw _0x44748b;}},getBannedChatsList=async()=>{const _0xd3cc88=_0x578554;try{const _0x1b78d0=await chatModel['find']({'isBanned':!![]});if(_0x1b78d0[_0xd3cc88(0xb0)]>0x0){let _0x3c40a6=_0xd3cc88(0xfc);return _0x1b78d0['forEach']((_0x5c2b23,_0x51db91)=>{const _0x12f00f=_0xd3cc88;_0x3c40a6+=_0x12f00f(0xb2)+(_0x51db91+0x1)+'.\x20ᴄʜᴀᴛ\x20ɪᴅ:\x20'+_0x5c2b23[_0x12f00f(0xd8)]+'\x0a';}),_0x3c40a6;}else return _0xd3cc88(0xb9);}catch(_0x4f067c){return'❌\x20ᴀɴ\x20ᴇʀʀᴏʀ\x20ᴏᴄᴄᴜʀʀᴇᴅ\x20ᴡʜɪʟᴇ\x20ʀᴇᴛʀɪᴇᴠɪɴɢ\x20ᴛʜᴇ\x20ʟɪsᴛ\x20ᴏғ\x20ʙᴀɴɴᴇᴅ\x20ᴄʜᴀᴛs.';}},deleteAllChats=async()=>{const _0x5b94ff=_0x578554;try{const _0x1ecc19=await chatModel[_0x5b94ff(0xad)]({});}catch(_0x1aca09){}},initializeUserConversations=async _0x56736a=>{const _0xfe9452=_0x578554;let _0x5edc05=await loadUserConversations(_0x56736a);return _0x5edc05[_0xfe9452(0xb0)]===0x0&&(_0x5edc05=[{'role':_0xfe9452(0xe8),'content':_0xfe9452(0xd9)}],await saveUserConversations(_0x56736a,_0x5edc05)),_0x5edc05;},loadUserConversations=async _0x1b64cd=>{const _0x5c94c5=_0x578554;try{const _0x24ff10=await conversationModel[_0x5c94c5(0xf7)]({'sender':_0x1b64cd});return _0x24ff10?_0x24ff10['conversations']:[];}catch(_0x18c818){return[];}},saveUserConversations=async(_0x65343f,_0x448ca2)=>{const _0x3ef072=_0x578554,_0x4504fe=0xa;try{if(!Array[_0x3ef072(0xd3)](_0x448ca2)||_0x448ca2[_0x3ef072(0xb0)]===0x0)return;_0x448ca2[_0x3ef072(0xb0)]>_0x4504fe&&(_0x448ca2=_0x448ca2[_0x3ef072(0xb1)](-_0x4504fe));const _0x17b3c0=await conversationModel[_0x3ef072(0xcb)]({'sender':_0x65343f},{'$set':{'conversations':_0x448ca2}},{'upsert':!![]});if(_0x17b3c0[_0x3ef072(0xcc)]>0x0){}else{if(_0x17b3c0['upsertedCount']>0x0){}else{}}}catch(_0x1ded89){console[_0x3ef072(0x113)]('Error\x20saving\x20user\x20conversations\x20for\x20sender:\x20'+_0x65343f,_0x1ded89);}},loadSettings=async()=>{const _0x938504=_0x578554;try{const _0x1a2f7c=await settingsModel[_0x938504(0xf7)]({});_0x1a2f7c?settingsCache=_0x1a2f7c[_0x938504(0xe1)]:settingsCache={};}catch(_0x13bc0f){}},getSettings=()=>{return settingsCache;},saveSettings=async _0x153ad4=>{const _0x297741=_0x578554;try{const _0x3ce212=await settingsModel[_0x297741(0xf7)]({});if(_0x3ce212)return;const _0x4d0e28=new settingsModel({'settings':_0x153ad4});await _0x4d0e28[_0x297741(0x100)](),process[_0x297741(0xab)]();}catch(_0x556ce7){}},updateSettingsField=async(_0x49c06d,_0xd77d85)=>{const _0xc1956d=_0x578554;try{const _0x340744={['settings.'+_0x49c06d]:_0xd77d85},_0x5212d9=await settingsModel[_0xc1956d(0xd7)]({},{'$set':_0x340744},{'new':!![]});if(_0x5212d9)return'Setting\x20updated:\x20'+_0x49c06d+_0xc1956d(0xb7)+_0xd77d85;else{const _0x24f400={[_0x49c06d]:_0xd77d85};await saveSettings(_0x24f400);}}catch(_0x5733b8){}},getSettingField=async _0x4fbe80=>{const _0x2fefaf=_0x578554;try{const _0x354485=await settingsModel[_0x2fefaf(0xf7)]({})[_0x2fefaf(0x119)]('settings.'+_0x4fbe80);return _0x354485&&_0x354485[_0x2fefaf(0xe1)]&&_0x354485[_0x2fefaf(0xe1)]['has'](_0x4fbe80)?_0x354485[_0x2fefaf(0xe1)]['get'](_0x4fbe80):null;}catch(_0x952b12){return null;}},addSticker=async(_0x8641f4,_0x52d529,_0x4aa57a,_0x5e5b31)=>{const _0x43314c=_0x578554;if(!_0x8641f4||!_0x52d529||!_0x5e5b31)return;try{const _0xce6c00=await stickerModel['findOne']({[_0x43314c(0xdc)+_0x8641f4]:{'$exists':!![]}});if(_0xce6c00)return;const _0x1bee5c={'text':_0x52d529,'mentionedJid':_0x4aa57a,'creator':_0x5e5b31,'at':Date['now'](),'locked':![]},_0x149411=await stickerModel[_0x43314c(0xf7)]({});if(!_0x149411){const _0x2b0e6b=new stickerModel({'stickers':{[_0x8641f4]:_0x1bee5c}});await _0x2b0e6b[_0x43314c(0x100)]();}else _0x149411['stickers'][_0x43314c(0xcf)](_0x8641f4,_0x1bee5c),await _0x149411[_0x43314c(0x100)]();}catch(_0x1acc87){throw _0x1acc87;}},getStickerById=async _0x5002a2=>{const _0x1fbf83=_0x578554;if(!_0x5002a2)throw new Error(_0x1fbf83(0xfa));try{const _0x5c2652=await stickerModel[_0x1fbf83(0xf7)]({[_0x1fbf83(0xdc)+_0x5002a2]:{'$exists':!![]}});if(!_0x5c2652)return null;const _0x1ef46e=_0x5c2652[_0x1fbf83(0x10d)][_0x1fbf83(0x103)](_0x5002a2);return _0x1ef46e;}catch(_0x2cc10a){throw _0x2cc10a;}},deleteStickerById=async _0x10f264=>{const _0xb6926f=_0x578554;if(!_0x10f264)throw new Error(_0xb6926f(0xfa));try{const _0x1070ab=await stickerModel[_0xb6926f(0xf7)]({[_0xb6926f(0xdc)+_0x10f264]:{'$exists':!![]}});if(!_0x1070ab)return _0xb6926f(0xc8);return _0x1070ab[_0xb6926f(0x10d)][_0xb6926f(0xac)](_0x10f264),_0x1070ab['stickers'][_0xb6926f(0xd4)]===0x0?(await stickerModel[_0xb6926f(0x11b)]({'_id':_0x1070ab['_id']}),_0xb6926f(0xff)):(await _0x1070ab['save'](),_0xb6926f(0xfd));}catch(_0x3c84d5){throw _0x3c84d5;}},getAllStickers=async()=>{const _0x4831ea=_0x578554;try{const _0x3a9325=await stickerModel['find']({});let _0x42f014=[];return _0x3a9325[_0x4831ea(0x117)](_0x32d824=>{const _0x43f56c=_0x4831ea;_0x32d824[_0x43f56c(0x10d)][_0x43f56c(0x117)]((_0x123bc7,_0x5a2693)=>{const _0x539048=_0x43f56c;_0x42f014[_0x539048(0x114)]({'stickerId':_0x5a2693,..._0x123bc7});});}),_0x42f014;}catch(_0x20da64){}},getAllStickerTexts=async()=>{const _0x54cbf3=_0x578554;try{const _0x25347f=await stickerModel[_0x54cbf3(0xbf)](),_0x2b8543=[];for(const _0x1248e9 of _0x25347f){const _0x42001c=_0x1248e9[_0x54cbf3(0x10d)];_0x42001c[_0x54cbf3(0x117)]((_0x382f9a,_0x45e5f9)=>{const _0x1661cb=_0x54cbf3;_0x2b8543[_0x1661cb(0x114)]({'text':_0x382f9a[_0x1661cb(0xf5)],'locked':_0x382f9a[_0x1661cb(0xb3)]});});}return _0x2b8543;}catch(_0x50e976){return[];}},deleteAllStickers=async()=>{const _0x2c593e=_0x578554;try{const _0x277887=await stickerModel[_0x2c593e(0xad)]({});return _0x277887['deletedCount']+_0x2c593e(0xc4);}catch(_0x577384){}},deleteLockedFalseStickers=async()=>{const _0x4b840e=_0x578554;try{const _0x57bf79=await stickerModel[_0x4b840e(0xbf)]();let _0x200498=0x0;for(const _0x5f3144 of _0x57bf79){const _0x1af2b3=_0x5f3144['stickers'];let _0x51760a=[];for(const [_0x30353e,_0x3550c3]of _0x1af2b3[_0x4b840e(0xaf)]()){!_0x3550c3[_0x4b840e(0xb3)]&&_0x51760a[_0x4b840e(0x114)](_0x30353e);}if(_0x51760a[_0x4b840e(0xb0)]>0x0){for(const _0x4f0848 of _0x51760a){_0x1af2b3[_0x4b840e(0xac)](_0x4f0848),_0x200498++;}await _0x5f3144[_0x4b840e(0x100)]();}}}catch(_0x79941d){}},lockStickerById=async _0x4742ee=>{const _0x5aaa45=_0x578554;try{const _0x1e6f33=await stickerModel[_0x5aaa45(0xbf)]();for(const _0x4b3ccd of _0x1e6f33){const _0x5b0a70=_0x4b3ccd[_0x5aaa45(0x10d)];if(_0x5b0a70[_0x5aaa45(0xfb)](_0x4742ee)){const _0x16564d=_0x5b0a70[_0x5aaa45(0x103)](_0x4742ee);if(_0x16564d[_0x5aaa45(0xb3)])return _0x5aaa45(0xed);return _0x16564d['locked']=!![],await _0x4b3ccd['save'](),'locked';}}return'notFound';}catch(_0x164715){return'error';}},isStickerLocked=async _0x59b010=>{const _0x3d54ea=_0x578554;try{const _0x59669e=await stickerModel[_0x3d54ea(0xbf)]();for(const _0x2cfc65 of _0x59669e){const _0x288fff=_0x2cfc65[_0x3d54ea(0x10d)];if(_0x288fff[_0x3d54ea(0xfb)](_0x59b010)){const _0x5849f9=_0x288fff['get'](_0x59b010);return _0x5849f9[_0x3d54ea(0xb3)];}}return![];}catch(_0x34ee57){return![];}},doesStickerIdExist=async _0x4e85a0=>{const _0x2c16d7=_0x578554;try{const _0x3f543f=await stickerModel[_0x2c16d7(0xbf)]();for(const _0x3595f3 of _0x3f543f){const _0x2493b2=_0x3595f3[_0x2c16d7(0x10d)];if(_0x2493b2[_0x2c16d7(0xfb)](_0x4e85a0))return!![];}return![];}catch(_0x316965){return![];}},getStickerByHash=async _0x16e78a=>{const _0x1fbfae=_0x578554;try{const _0x13dbbf=await stickerModel[_0x1fbfae(0xbf)]();for(const _0xacc74b of _0x13dbbf){const _0x53e238=_0xacc74b[_0x1fbfae(0x10d)];if(_0x53e238[_0x1fbfae(0xfb)](_0x16e78a))return _0x53e238[_0x1fbfae(0x103)](_0x16e78a);}return null;}catch(_0x2c5684){return null;}},banUser=async(_0x93cefd,_0x568196,_0x2185a0)=>{const _0x5bf627=_0x578554;try{const _0x3a085c=await userModel['findOne']({'jid':_0x93cefd});if(_0x3a085c){const _0x242d64=await userModel[_0x5bf627(0xd7)]({'jid':_0x93cefd},{'isBanned':!![]},{'upsert':!![]});return _0x242d64;}else{const _0x58c133=randomBytes(0x10)['toString'](_0x5bf627(0xa7)),_0x5ce143={'jid':_0x93cefd,'name':_0x568196,'serialNumber':_0x58c133,'phoneNumber':_0x2185a0,'isBanned':!![],'createdAt':new Date()},_0x462bf8=new userModel(_0x5ce143);return await _0x462bf8['save'](),_0x462bf8;}}catch(_0x2e6c74){return![];}},unbanUser=async _0x4ac95e=>{const _0x52ead8=_0x578554;try{const _0x4ae40c=await userModel[_0x52ead8(0xf7)]({'jid':_0x4ac95e});if(!_0x4ae40c)return _0x52ead8(0x110);if(!_0x4ae40c[_0x52ead8(0xb5)])return _0x52ead8(0xe4);const _0x5a2d47=await resetWarningCount(_0x4ac95e);if(!_0x5a2d47)return![];return _0x4ae40c[_0x52ead8(0xb5)]=![],await _0x4ae40c['save'](),!![];}catch(_0x2f4dc6){return![];}},isUserBanned=async _0x4cd667=>{const _0x3d4c88=_0x578554;try{const _0x1f2a7c=await userModel[_0x3d4c88(0xf7)]({'jid':_0x4cd667});if(!_0x1f2a7c)return![];return _0x1f2a7c[_0x3d4c88(0xb5)];}catch(_0x51bd96){return _0x51bd96;}},addUser=async(_0xa1cb24,_0x575826,_0x2696c4)=>{const _0x5d90e1=_0x578554;try{const _0x401072=await userModel[_0x5d90e1(0xf7)]({'jid':_0xa1cb24});if(_0x401072)return;const _0x2d96a0=randomBytes(0x10)[_0x5d90e1(0xe0)](_0x5d90e1(0xa7)),_0x2d0c68={'jid':_0xa1cb24,'name':_0x575826,'serialNumber':_0x2d96a0,'phoneNumber':_0x2696c4,'isBanned':![],'createdAt':new Date()},_0x19e61a=new userModel(_0x2d0c68);await _0x19e61a['save']();}catch(_0x4f7e93){if(_0x4f7e93[_0x5d90e1(0x108)]===0x2af8){}else return![];}},getAllUserPhoneNumbers=async()=>{const _0x5c95a3=_0x578554;try{const _0x3f2bf2=await userModel['find']({},_0x5c95a3(0xe2));return _0x3f2bf2[_0x5c95a3(0xf9)](_0x4f31ea=>_0x4f31ea[_0x5c95a3(0xe2)]);}catch(_0x53cbc1){return![];}},addWarning=async _0x3f04d6=>{const _0x5c4264=_0x578554;try{let _0xb15880=await warningModel['findOne']({'userId':_0x3f04d6});return!_0xb15880?_0xb15880=new warningModel({'userId':_0x3f04d6,'count':0x1}):_0xb15880['count']+=0x1,await _0xb15880[_0x5c4264(0x100)](),_0xb15880['count'];}catch(_0x40e6bb){return _0x5c4264(0x106);}},resetWarningCount=async _0x3cb0f8=>{const _0x21209e=_0x578554;try{let _0x15c57c=await warningModel[_0x21209e(0xf7)]({'userId':_0x3cb0f8});return _0x15c57c&&(_0x15c57c['count']=0x0,await _0x15c57c[_0x21209e(0x100)]()),_0x15c57c?_0x15c57c[_0x21209e(0xc5)]:0x0;}catch(_0x36af15){return![];}},getWarningCount=async _0xc8e334=>{const _0x598c9f=_0x578554;try{const _0x57e44d=await warningModel['findOne']({'userId':_0xc8e334});return _0x57e44d?_0x57e44d['count']:0x0;}catch(_0x20095f){return _0x598c9f(0x105);}},opentime=async(_0x597e28,_0x1d5c6d)=>{const _0x25add2=_0x578554,_0x5a6a1c=new Date(Date[_0x25add2(0xd1)]()+_0x1d5c6d);try{const _0x5ff9f5=await groupModel[_0x25add2(0xd7)]({'groupId':_0x597e28},{'openAt':_0x5a6a1c,'openStatus':_0x25add2(0xc0)},{'upsert':!![],'new':!![]});return{'success':!![],'openAt':_0x5ff9f5[_0x25add2(0xb4)]};}catch(_0xd46bfd){return{'success':![],'error':_0xd46bfd};}},closetime=async(_0x1c9998,_0x1fd916)=>{const _0x368bae=_0x578554,_0x55e791=new Date(Date['now']()+_0x1fd916);try{const _0x430d2e=await groupModel[_0x368bae(0xd7)]({'groupId':_0x1c9998},{'closeAt':_0x55e791,'closeStatus':_0x368bae(0xc0)},{'upsert':!![],'new':!![]});return{'success':!![],'closeAt':_0x430d2e[_0x368bae(0xea)]};}catch(_0x27b34b){return{'success':![],'error':_0x27b34b};}},checkGroupStatus=async _0x419710=>{const _0x46da9f=_0x578554;try{const _0x604cc=await groupModel[_0x46da9f(0xf7)]({'groupId':_0x419710});if(!_0x604cc)return{'status':_0x46da9f(0x104),'message':_0x46da9f(0xe6)};const _0x109c75=new Date();if(_0x604cc[_0x46da9f(0xb4)]&&_0x604cc[_0x46da9f(0xb4)]>_0x109c75&&_0x604cc[_0x46da9f(0x107)]===_0x46da9f(0xc0))return{'status':_0x46da9f(0xf8),'message':_0x46da9f(0xcd)};if(_0x604cc['closeAt']&&_0x604cc[_0x46da9f(0xea)]>_0x109c75&&_0x604cc[_0x46da9f(0xce)]===_0x46da9f(0xc0))return{'status':_0x46da9f(0x10a),'message':_0x46da9f(0x102)};if(_0x604cc[_0x46da9f(0xb4)]&&_0x604cc[_0x46da9f(0xb4)]<=_0x109c75&&_0x604cc[_0x46da9f(0x107)]===_0x46da9f(0xf4)&&(!_0x604cc['closeAt']||_0x604cc[_0x46da9f(0xea)]>_0x109c75||_0x604cc[_0x46da9f(0xce)]==='pending'))return{'status':_0x46da9f(0xba),'message':_0x46da9f(0xbc)};if(_0x604cc[_0x46da9f(0xea)]&&_0x604cc[_0x46da9f(0xea)]<=_0x109c75&&_0x604cc[_0x46da9f(0xce)]===_0x46da9f(0xf4))return{'status':_0x46da9f(0x118),'message':_0x46da9f(0xe3)};return{'status':_0x46da9f(0xbe),'message':_0x46da9f(0xee)};}catch(_0x3be103){return{'status':'error','error':_0x3be103};}},checkScheduledGroups=async _0x5cb9cf=>{const _0x1453d5=_0x578554;try{const _0x4706b7=new Date(),_0x7f2759=await groupModel['find']({'$or':[{'closeAt':{'$lte':_0x4706b7},'closeStatus':_0x1453d5(0xc0)},{'openAt':{'$lte':_0x4706b7},'openStatus':'pending'}]});for(const _0x40700a of _0x7f2759){try{_0x40700a[_0x1453d5(0xea)]&&_0x40700a[_0x1453d5(0xea)]<=_0x4706b7&&_0x40700a[_0x1453d5(0xce)]===_0x1453d5(0xc0)&&(await _0x5cb9cf[_0x1453d5(0xf3)](_0x40700a[_0x1453d5(0xe9)],_0x1453d5(0xa8)),await _0x5cb9cf[_0x1453d5(0xdb)](_0x40700a['groupId'],{'text':'🚫\x20*ɢʀᴏᴜᴘ\x20ᴀᴜᴛᴏᴍᴀᴛɪᴄᴀʟʟʏ\x20ᴄʟᴏsᴇᴅ.*\x0a*ᴏɴʟʏ\x20ᴀᴅᴍɪɴs\x20ᴄᴀɴ\x20ᴍᴇssᴀɢᴇ.*'}),await groupModel['updateOne']({'groupId':_0x40700a[_0x1453d5(0xe9)]},{'closeStatus':_0x1453d5(0xf4)})),_0x40700a[_0x1453d5(0xb4)]&&_0x40700a[_0x1453d5(0xb4)]<=_0x4706b7&&_0x40700a[_0x1453d5(0x107)]==='pending'&&(await _0x5cb9cf[_0x1453d5(0xf3)](_0x40700a[_0x1453d5(0xe9)],'not_announcement'),await _0x5cb9cf[_0x1453d5(0xdb)](_0x40700a[_0x1453d5(0xe9)],{'text':_0x1453d5(0xeb)}),await groupModel[_0x1453d5(0xcb)]({'groupId':_0x40700a[_0x1453d5(0xe9)]},{'openStatus':_0x1453d5(0xf4)}));}catch(_0x328f08){console[_0x1453d5(0x113)](_0x1453d5(0x10e)+_0x40700a[_0x1453d5(0xe9)],_0x328f08[_0x1453d5(0x109)]);}}}catch(_0x3733a5){console[_0x1453d5(0x113)](_0x1453d5(0x111),_0x3733a5['message']);}};module[_0x578554(0xb8)]={'saveSettings':saveSettings,'updateSettingsField':updateSettingsField,'getSettingField':getSettingField,'addUser':addUser,'getSettings':getSettings,'loadSettings':loadSettings,'addSticker':addSticker,'getStickerById':getStickerById,'deleteStickerById':deleteStickerById,'getAllStickers':getAllStickers,'getAllStickerTexts':getAllStickerTexts,'deleteAllStickers':deleteAllStickers,'deleteLockedFalseStickers':deleteLockedFalseStickers,'lockStickerById':lockStickerById,'isStickerLocked':isStickerLocked,'doesStickerIdExist':doesStickerIdExist,'getStickerByHash':getStickerByHash,'getAllUserPhoneNumbers':getAllUserPhoneNumbers,'unbanUser':unbanUser,'banUser':banUser,'unbanChat':unbanChat,'banChat':banChat,'checkChatExists':checkChatExists,'checkBanStatus':checkBanStatus,'updateChatStatus':updateChatStatus,'getBannedChatsList':getBannedChatsList,'deleteAllChats':deleteAllChats,'addOwnerNumber':addOwnerNumber,'getAuthNum':getAuthNum,'deleteOwnerNumber':deleteOwnerNumber,'checkOwnerNumber':checkOwnerNumber,'addBadWord':addBadWord,'deleteBadWord':deleteBadWord,'listBadWords':listBadWords,'addWarning':addWarning,'getWarningCount':getWarningCount,'isUserBanned':isUserBanned,'initializeUserConversations':initializeUserConversations,'loadUserConversations':loadUserConversations,'saveUserConversations':saveUserConversations,'opentime':opentime,'closetime':closetime,'checkGroupStatus':checkGroupStatus,'checkScheduledGroups':checkScheduledGroups};function _0x31f9(){const _0x15e4f4=['delete','deleteMany','🚫\x20ʙᴀᴅ\x20ᴡᴏʀᴅ\x20ɴᴏᴛ\x20ғᴏᴜɴᴅ.','entries','length','slice','𓆩\x20','locked','openAt','isBanned','639oKAQAp','\x20=\x20','exports','❌\x20ᴛʜᴇʀᴇ\x20ᴀʀᴇ\x20ɴᴏ\x20ʙᴀɴɴᴇᴅ\x20ᴄʜᴀᴛs.','opened','../settings.js','Group\x20is\x20currently\x20open.','Error\x20deleting\x20owner\x20number.','unknown','find','pending','./models/authModel.js','ownerNumbers','750385ednfkK','\x20stickers\x20deleted\x20successfully','count','🚫\x20ᴇʀʀᴏʀ\x20ᴅᴇʟᴇᴛɪɴɢ\x20ʙᴀᴅ\x20ᴡᴏʀᴅ.','./models/groupModel.js','notFound','Unexpected\x20Error:','Cannot\x20delete\x20the\x20main\x20owner\x20number.','updateOne','modifiedCount','Group\x20open\x20is\x20scheduled.','closeStatus','set','2825984qMEhHN','now','word','isArray','size','includes','Error\x20deleting\x20owner\x20number:','findOneAndUpdate','chatId','You\x20are\x20a\x20helpful\x20assistant.','./mongodb.js','sendMessage','stickers.','./models/conversationModel.js','ValidationError','3752qulRwq','toString','settings','jid','Group\x20is\x20already\x20closed.','notbanned','23282nURAAW','Group\x20not\x20scheduled\x20yet.','crypto','system','groupId','closeAt','🌟\x20*ɢʀᴏᴜᴘ\x20ᴀᴜᴛᴏᴍᴀᴛɪᴄᴀʟʟʏ\x20ᴏᴘᴇɴᴇᴅ.*\x0a*ᴍᴇᴍʙᴇʀs\x20ᴄᴀɴ\x20sᴇɴᴅ\x20ᴍᴇssᴀɢᴇs.*','./models/settingsModel.js','alreadyLocked','Group\x20status\x20is\x20unclear.','already','./models/chatModel.js','Error\x20checking\x20bad\x20word\x20existence:','4abuKKG','groupSettingUpdate','done','text','Error\x20fetching\x20bad\x20words.','findOne','open_pending','map','Missing\x20required\x20field:\x20stickerId','has','✯\x20ʙᴀɴɴᴇᴅ\x20ᴄʜᴀᴛs\x20✯\x0a\x0a','deleted','192750XeAcwE','documentDeleted','save','811743pNMwtD','Group\x20close\x20is\x20scheduled.','get','not_found','Failed\x20to\x20fetch\x20warning\x20count.','Failed\x20to\x20add\x20warning.','openStatus','code','message','close_pending','./models/userModel.js','successfully','stickers','[ScheduledUpdateError]\x20','1765400EusBdJ','notfound','Scheduled\x20group\x20check\x20failed:','already.','error','push','name','32kbhJJr','forEach','closed','select','MongoError','deleteOne','./models/warningModel.js','Owner\x20number\x20deleted\x20successfully.','hex','announcement','✅\x20ʙᴀᴅ\x20ᴡᴏʀᴅ\x20ᴅᴇʟᴇᴛᴇᴅ\x20sᴜᴄᴄᴇssғᴜʟʟʏ.','Owner\x20number\x20not\x20found.','exit'];_0x31f9=function(){return _0x15e4f4;};return _0x31f9();}